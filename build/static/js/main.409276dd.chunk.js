(window.webpackJsonpnoteful=window.webpackJsonpnoteful||[]).push([[0],{14:function(e,t){e.exports={API_ENDPOINT:Object({NODE_ENV:"production",PUBLIC_URL:""}).API_ENDPOINT||"https://rebeccas-noteful-server.herokuapp.com",PORT:Object({NODE_ENV:"production",PUBLIC_URL:""}).PORT||8e3,DATABASE_URL:Object({NODE_ENV:"production",PUBLIC_URL:""}).DATABASE_URL,API_KEY:Object({NODE_ENV:"production",PUBLIC_URL:""}).REACT_APP_API_KEY}},23:function(e,t,n){e.exports=n(36)},28:function(e,t,n){},34:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),r=n(20),c=n.n(r),l=(n(28),n(3)),i=n(4),u=n(6),s=n(5),d=n(7),m=n(2),f=n(11),h=a.a.createContext(),E=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(h.Consumer,null,function(e){return console.log(e),e.folders.map(function(t){return a.a.createElement("div",{key:t.name},a.a.createElement("div",null,a.a.createElement(m.b,{to:"/folder/".concat(t.id)},t.name," ")),a.a.createElement("button",{className:"Note__delete",type:"button",onClick:function(){return e.deleteFolder(t)}},"  Delete Folder"))})}))}}]),t}(a.a.Component),p=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={hasError:!1},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.hasError?a.a.createElement("h2",null,"Could not display this element!"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(a.a.Component),b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.context.setFolderId(this.props.match.params.id)}},{key:"render",value:function(){var e=Date.now(),t=this.context;return a.a.createElement(p,null,a.a.createElement("div",{className:"d-flex"},a.a.createElement("div",{className:"folders-pane"},a.a.createElement(E,null),a.a.createElement("div",null,a.a.createElement(m.b,{to:"/folder/add"},a.a.createElement("button",{type:"button"},"Add Folder")))),a.a.createElement("div",{className:"notes-pane"},a.a.createElement("div",null,t.notes.map(function(n){return a.a.createElement("div",{key:n.id},a.a.createElement("div",{key:n.id},a.a.createElement(m.b,{to:"/note/".concat(n.id)},n.note_name)),a.a.createElement("div",null," ",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)," "),a.a.createElement("button",{className:"Note__delete",type:"button",onClick:function(){return t.deleteNote(n)}}," Delete Note "))}),a.a.createElement("div",null,a.a.createElement(m.b,{to:"/notes/add"},a.a.createElement("button",{type:"button"},"Add Note")))))))}}]),t}(a.a.Component);b.contextType=h;var v=b,N=n(14).API_ENDPOINT,j=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={note:{}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.noteId||null;fetch("".concat(N,"/notes/").concat(t)).then(function(e){return e.json()}).then(function(t){e.setState({note:t})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this.state.note;console.log("oneNote from noteinfo:",e);var t=Date.now();return a.a.createElement(h.Consumer,null,function(n){return a.a.createElement("div",null,a.a.createElement(m.b,{to:"/"},a.a.createElement("h3",null,"Noteful Home")),a.a.createElement("h3",null," ",e.note_name," "),a.a.createElement("p",null," ",e.content," "),a.a.createElement("div",null," ",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t)," "),a.a.createElement(m.b,{to:"/"}),a.a.createElement("button",{className:"backButton"},a.a.createElement("div",null,a.a.createElement(m.b,{to:"/"},"Back"))))})}}]),t}(a.a.Component),O=n(14).API_ENDPOINT,y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).handleAddFolder=function(e,t){e.preventDefault();var n={folder_name:e.target.name.value};fetch("".concat(O,"/folders"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){console.log(e),console.log(t),window.location.href="/"}).catch(function(e){console.error({error:e})})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(h.Consumer,null,function(t){return a.a.createElement("form",{className:"createFolder",onSubmit:function(n){return e.handleAddFolder(n,t)}},a.a.createElement("h2",null,"Add Folder"),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"name"},"Name"),a.a.createElement("input",{type:"text",className:"name",name:"name",id:"name",required:!0})),a.a.createElement("div",{className:"createFolderButtons"},a.a.createElement("button",{type:"submit",className:"buttonSubmit"},"Save")),a.a.createElement("div",null,a.a.createElement(m.b,{to:"/"},"back")))})}}]),t}(a.a.Component),g=n(14).API_ENDPOINT,_=function(e){function t(){var e,n;Object(l.a)(this,t);for(var o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(a)))).handleAddNote=function(e,t){e.preventDefault();var n={note_name:e.target.name.value,content:e.target.content.value,folder_id:e.target.folder.value};console.log(n),fetch("".concat(g,"/notes"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){console.log(e),console.log(t),window.location.href="/"}).catch(function(e){console.error({error:e})})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(h.Consumer,null,function(t){return console.log("from addnote",t),a.a.createElement("form",{className:"createNote",onSubmit:function(n){return e.handleAddNote(n,t)}},"Add Note",a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"folderSelect"},"Folder Select"),a.a.createElement("select",{className:"folderSelect","aria-label":"select folder",name:"folder"},t.folders.map(function(e){return a.a.createElement("option",{value:e.id}," ",e.name," ")}))),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"name"},"Name: ",t.note_name," "),a.a.createElement("input",{type:"text",className:"name",name:"name",id:"name",required:!0})),a.a.createElement("div",{className:"form-group"},a.a.createElement("label",{htmlFor:"content"}," Content: "),a.a.createElement("input",{type:"text",className:"content",name:"content",id:"content",required:!0})),a.a.createElement("div",{className:"createNoteButtons"},a.a.createElement("button",{type:"submit",className:"buttonSubmit"},"SAVE")),a.a.createElement("div",{className:"backButton"},a.a.createElement("div",null,a.a.createElement("button",null,a.a.createElement(m.b,{to:"/"},"Back")))))})}}]),t}(a.a.Component),I=(n(34),n(14).API_ENDPOINT),k=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).setFolderId=function(e){console.log(e),n.setState({folder_id:e},function(){n.fetchNotesByFolderId()})},n.fetchNotesByFolderId=function(){var e=n.state.folder_id,t=e?"".concat(I,"/folder/").concat(e):"";fetch("".concat(I,"/notes").concat(t)).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){n.setState({notes:e})}).catch(function(e){console.error({error:e})})},n.fetchFolders=function(){fetch("".concat(I,"/folders")).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){n.setState({folders:e})}).catch(function(e){console.error({error:e})})},n.handleNoteDelete=function(e){var t=e.id;fetch("".concat(I,"/notes/").concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){e.ok&&(n.fetchFolders(),n.fetchNotesByFolderId())}).catch(function(e){console.error({error:e})})},n.handleFolderDelete=function(e){var t=e.id;console.log({folder_id:t},"deleted"),fetch("".concat(I,"folders/").concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){e.ok&&(n.fetchFolders(),n.fetchNotesByFolderId())}).catch(function(e){console.error({error:e})})},n.state={folders:[],notes:[],folder_id:null},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchFolders(),this.fetchNotesByFolderId()}},{key:"render",value:function(){var e=this.state,t=e.folders,n=e.notes;return a.a.createElement(h.Provider,{value:{notes:n,folders:t,deleteNote:this.handleNoteDelete,deleteFolder:this.handleFolderDelete,setFolderId:this.setFolderId}},a.a.createElement(m.a,null,a.a.createElement(f.a,{path:"/",exact:!0,component:v}),a.a.createElement(f.a,{path:"/folder/:id",exact:!0,component:v}),a.a.createElement(f.a,{path:"/note/:noteId",exact:!0,component:j}),a.a.createElement(f.a,{path:"/folder/add",exact:!0,component:y}),a.a.createElement(f.a,{path:"/notes/add",exact:!0,component:_})))}}]),t}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(35);console.log(Object({NODE_ENV:"production",PUBLIC_URL:""}),"hi"),c.a.render(a.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.409276dd.chunk.js.map