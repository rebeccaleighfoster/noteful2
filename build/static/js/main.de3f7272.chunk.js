(window.webpackJsonpnoteful=window.webpackJsonpnoteful||[]).push([[0],{27:function(e,t,n){e.exports=n(39)},32:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(23),c=n.n(r),l=(n(32),n(4)),i=n(5),u=n(7),s=n(6),d=n(8),m=n(3),h=n(13),f=o.a.createContext(),p=n(40),E=n(41),b=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(p.a,null,o.a.createElement(f.Consumer,null,function(e){return console.log(e),e.folders.map(function(t){return o.a.createElement(E.a,{key:t.name},o.a.createElement("div",null,o.a.createElement(m.b,{to:"/folder/".concat(t.id)},t.name," ")),o.a.createElement("button",{className:"Note__delete",type:"button",onClick:function(){return e.deleteFolder(t)}},"  Delete Folder"))})}))}}]),t}(o.a.Component),v=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={hasError:!1},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.hasError?o.a.createElement("h2",null,"Could not display this element!"):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(o.a.Component),j=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.context.setFolderId(this.props.match.params.id)}},{key:"render",value:function(){var e=Date.now(),t=this.context;return o.a.createElement(v,null,o.a.createElement("div",{className:"d-flex"},o.a.createElement("div",{className:"folders-pane"},o.a.createElement(b,null),o.a.createElement(E.a,null,o.a.createElement(m.b,{to:"/folder/add"},o.a.createElement("button",{type:"button"},"Add Folder")))),o.a.createElement("div",{className:"notes-pane"},o.a.createElement(p.a,null,t.notes.map(function(n){return o.a.createElement(E.a,{key:n.id},o.a.createElement("div",{key:n.id},o.a.createElement(m.b,{to:"/note/".concat(n.id)},n.note_name)),o.a.createElement("div",null," ",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(e)," "),o.a.createElement("button",{className:"Note__delete",type:"button",onClick:function(){return t.deleteNote(n)}}," Delete Note "))}),o.a.createElement(E.a,null,o.a.createElement(m.b,{to:"/notes/add"},o.a.createElement("button",{type:"button"},"Add Note")))))))}}]),t}(o.a.Component);j.contextType=f;var y=j,N=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={note:{}},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.noteId||null;fetch("http://localhost:8000/notes/".concat(t)).then(function(e){return e.json()}).then(function(t){e.setState({note:t})}).catch(function(e){console.error(e)})}},{key:"render",value:function(){var e=this.state.note;console.log("oneNote from noteinfo:",e);var t=Date.now();return o.a.createElement(f.Consumer,null,function(n){return o.a.createElement("div",null,o.a.createElement(m.b,{to:"/"},o.a.createElement("h3",null,"Noteful Home")),o.a.createElement("h3",null," ",e.note_name," "),o.a.createElement("p",null," ",e.content," "),o.a.createElement("div",null," ",new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(t)," "),o.a.createElement(m.b,{to:"/"}),o.a.createElement("button",{className:"backButton"},o.a.createElement("div",null,o.a.createElement(m.b,{to:"/"},"Back"))))})}}]),t}(o.a.Component),O=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).handleAddFolder=function(e,t){e.preventDefault();var n={folder_name:e.target.name.value};fetch("http://localhost:8000/folders",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){console.log(e),console.log(t),window.location.href="/"}).catch(function(e){console.error({error:e})})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(f.Consumer,null,function(t){return o.a.createElement("form",{className:"createFolder",onSubmit:function(n){return e.handleAddFolder(n,t)}},o.a.createElement("h2",null,"Add Folder"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Name"),o.a.createElement("input",{type:"text",className:"name",name:"name",id:"name",required:!0})),o.a.createElement("div",{className:"createFolderButtons"},o.a.createElement("button",{type:"submit",className:"buttonSubmit"},"Save")),o.a.createElement("div",null,o.a.createElement(m.b,{to:"/"},"back")))})}}]),t}(o.a.Component),g=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).handleAddNote=function(e,t){e.preventDefault();var n={note_name:e.target.name.value,content:e.target.content.value,folder_id:e.target.folder.value};console.log(n),fetch("http://localhost:8000/notes",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){console.log(e),console.log(t),window.location.href="/"}).catch(function(e){console.error({error:e})})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(f.Consumer,null,function(t){return console.log("from addnote",t),o.a.createElement("form",{className:"createNote",onSubmit:function(n){return e.handleAddNote(n,t)}},"Add Note",o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"folderSelect"},"Folder Select"),o.a.createElement("select",{className:"folderSelect","aria-label":"select folder",name:"folder"},t.folders.map(function(e){return o.a.createElement("option",{value:e.id}," ",e.name," ")}))),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"name"},"Name: ",t.note_name," "),o.a.createElement("input",{type:"text",className:"name",name:"name",id:"name",required:!0})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"content"}," Content: "),o.a.createElement("input",{type:"text",className:"content",name:"content",id:"content",required:!0})),o.a.createElement("div",{className:"createNoteButtons"},o.a.createElement("button",{type:"submit",className:"buttonSubmit"},"SAVE")),o.a.createElement("div",{className:"backButton"},o.a.createElement("div",null,o.a.createElement("button",null,o.a.createElement(m.b,{to:"/"},"Back")))))})}}]),t}(o.a.Component),F=(n(37),function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).setFolderId=function(e){console.log(e),n.setState({folder_id:e},function(){n.fetchNotesByFolderId()})},n.fetchNotesByFolderId=function(){var e=n.state.folder_id,t=e?"/folder/".concat(e):"";fetch("http://localhost:8000/notes".concat(t)).then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){n.setState({notes:e})}).catch(function(e){console.error({error:e})})},n.fetchFolders=function(){fetch("http://localhost:8000/folders").then(function(e){return e.ok?e.json():e.json().then(function(e){return Promise.reject(e)})}).then(function(e){n.setState({folders:e})}).catch(function(e){console.error({error:e})})},n.handleNoteDelete=function(e){var t=e.id;fetch("http://localhost:8000/notes/".concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){e.ok&&(n.fetchFolders(),n.fetchNotesByFolderId())}).catch(function(e){console.error({error:e})})},n.handleFolderDelete=function(e){var t=e.id;console.log({folder_id:t},"deleted"),fetch("http://localhost:8000/folders/".concat(t),{method:"DELETE",headers:{"content-type":"application/json"}}).then(function(e){e.ok&&(n.fetchFolders(),n.fetchNotesByFolderId())}).catch(function(e){console.error({error:e})})},n.state={folders:[],notes:[],folder_id:null},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchFolders(),this.fetchNotesByFolderId()}},{key:"render",value:function(){var e=this.state,t=e.folders,n=e.notes;return o.a.createElement(f.Provider,{value:{notes:n,folders:t,deleteNote:this.handleNoteDelete,deleteFolder:this.handleFolderDelete,setFolderId:this.setFolderId}},o.a.createElement(m.a,null,o.a.createElement(h.a,{path:"/",exact:!0,component:y}),o.a.createElement(h.a,{path:"/folder/:id",exact:!0,component:y}),o.a.createElement(h.a,{path:"/note/:noteId",exact:!0,component:N}),o.a.createElement(h.a,{path:"/folder/add",exact:!0,component:O}),o.a.createElement(h.a,{path:"/notes/add",exact:!0,component:g})))}}]),t}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(38);console.log(Object({NODE_ENV:"production",PUBLIC_URL:""})),c.a.render(o.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.de3f7272.chunk.js.map